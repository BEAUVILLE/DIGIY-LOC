<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>DIGIY LOC ‚Äî Locations sans commission</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Locations direct propri√©taire. Z√©ro commission. DIGIY LOC.">

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto,sans-serif;
  background:#020617;
  color:#f9fafb;
}
header{
  padding:24px;
  text-align:center;
}
h1{font-size:2rem;margin:0}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:16px;
  padding:16px;
}
.card{
  background:#030712;
  border-radius:16px;
  padding:14px;
}
.card h3{margin:0 0 6px}
.price{color:#facc15;font-weight:700}
a.btn{
  display:block;
  margin-top:10px;
  text-align:center;
  padding:10px;
  border-radius:12px;
  background:#16a34a;
  color:#022c22;
  text-decoration:none;
  font-weight:700;
}
</style>
</head>

<body>

<header>
  <h1>üè° DIGIY LOC</h1>
  <p>Locations direct propri√©taire ‚Äî 0% commission</p>
</header>

<div class="grid" id="listings"></div>

<script>
const SB = supabase.createClient(
  "https://wesqmwjjtsefyjnluosj.supabase.co",
  "TON_ANON_KEY_ICI"
);

(async()=>{
  const { data, error } = await SB
    .from("loc_listings")
    .select("id,title,city,price_per_night")
    .eq("is_active", true);

  if(error){ console.error(error); return; }

  const box = document.getElementById("listings");
  data.forEach(l=>{
    const d = document.createElement("div");
    d.className="card";
    d.innerHTML=`
      <h3>${l.title}</h3>
      <div>${l.city}</div>
      <div class="price">${l.price_per_night} FCFA / nuit</div>
      <a class="btn" href="loc.html?id=${l.id}">Voir le logement</a>
    `;
    box.appendChild(d);
  });
})();
</script>

</body>
</html>
